"use strict";var KTHeader=function(e,i){var t=this,n=KTUtil.get(e),o=KTUtil.get("body");if(void 0!==n){var s={classic:!1,offset:{mobile:150,desktop:200},minimize:{mobile:!1,desktop:!1}},l={construct:function(e){return KTUtil.data(n).has("header")?t=KTUtil.data(n).get("header"):(l.init(e),l.build(),KTUtil.data(n).set("header",t)),t},init:function(e){t.events=[],t.options=KTUtil.deepExtend({},s,e)},build:function(){var e=0,i=!0;KTUtil.getViewPort().height,KTUtil.getDocumentHeight();!1===t.options.minimize.mobile&&!1===t.options.minimize.desktop||window.addEventListener("scroll",function(){var n,s,a,d=0;KTUtil.isInResponsiveRange("desktop")?(d=t.options.offset.desktop,n=t.options.minimize.desktop.on,s=t.options.minimize.desktop.off):KTUtil.isInResponsiveRange("tablet-and-mobile")&&(d=t.options.offset.mobile,n=t.options.minimize.mobile.on,s=t.options.minimize.mobile.off),a=KTUtil.getScrollTop(),KTUtil.isInResponsiveRange("tablet-and-mobile")&&t.options.classic&&t.options.classic.mobile||KTUtil.isInResponsiveRange("desktop")&&t.options.classic&&t.options.classic.desktop?a>d?(KTUtil.addClass(o,n),KTUtil.removeClass(o,s),i&&(l.eventTrigger("minimizeOn",t),i=!1)):(KTUtil.addClass(o,s),KTUtil.removeClass(o,n),0==i&&(l.eventTrigger("minimizeOff",t),i=!0)):(a>d&&e<a?(KTUtil.addClass(o,n),KTUtil.removeClass(o,s),i&&(l.eventTrigger("minimizeOn",t),i=!1)):(KTUtil.addClass(o,s),KTUtil.removeClass(o,n),0==i&&(l.eventTrigger("minimizeOff",t),i=!0)),e=a)})},eventTrigger:function(e,i){for(var n=0;n<t.events.length;n++){var o=t.events[n];if(o.name==e){if(1!=o.one)return o.handler.call(this,t,i);if(0==o.fired)return t.events[n].fired=!0,o.handler.call(this,t,i)}}},addEvent:function(e,i,n){t.events.push({name:e,handler:i,one:n,fired:!1})}};return t.setDefaults=function(e){s=e},t.on=function(e,i){return l.addEvent(e,i)},l.construct.apply(t,[i]),!0,t}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTHeader);
