"use strict";var KTScrolltop=function(t,e){var n=this,o=KTUtil.get(t),i=KTUtil.get("body");if(o){var l={offset:300,speed:600,toggleClass:"kt-scrolltop--on"},d={construct:function(t){return KTUtil.data(o).has("scrolltop")?n=KTUtil.data(o).get("scrolltop"):(d.init(t),d.build(),KTUtil.data(o).set("scrolltop",n)),n},init:function(t){n.events=[],n.options=KTUtil.deepExtend({},l,t)},build:function(){navigator.userAgent.match(/iPhone|iPad|iPod/i)?(window.addEventListener("touchend",function(){d.handle()}),window.addEventListener("touchcancel",function(){d.handle()}),window.addEventListener("touchleave",function(){d.handle()})):window.addEventListener("scroll",function(){d.handle()}),KTUtil.addEvent(o,"click",d.scroll)},handle:function(){window.pageYOffset>n.options.offset?KTUtil.addClass(i,n.options.toggleClass):KTUtil.removeClass(i,n.options.toggleClass)},scroll:function(t){t.preventDefault(),KTUtil.scrollTop(0,n.options.speed)},eventTrigger:function(t,e){for(var o=0;o<n.events.length;o++){var i=n.events[o];if(i.name==t){if(1!=i.one)return i.handler.call(this,n,e);if(0==i.fired)return n.events[o].fired=!0,i.handler.call(this,n,e)}}},addEvent:function(t,e,o){n.events.push({name:t,handler:e,one:o,fired:!1})}};return n.setDefaults=function(t){l=t},n.on=function(t,e){return d.addEvent(t,e)},n.one=function(t,e){return d.addEvent(t,e,!0)},d.construct.apply(n,[e]),!0,n}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=KTScrolltop);
